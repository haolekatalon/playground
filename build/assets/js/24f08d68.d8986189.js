"use strict";(self.webpackChunkplayground=self.webpackChunkplayground||[]).push([[78025],{3905:(e,t,o)=>{o.d(t,{Zo:()=>c,kt:()=>k});var a=o(67294);function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t){if(null==e)return{};var o,a,n=function(e,t){if(null==e)return{};var o,a,n={},r=Object.keys(e);for(a=0;a<r.length;a++)o=r[a],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)o=r[a],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var l=a.createContext({}),p=function(e){var t=a.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},c=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var o=e.components,n=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(o),m=n,k=u["".concat(l,".").concat(m)]||u[m]||d[m]||r;return o?a.createElement(k,i(i({ref:t},c),{},{components:o})):a.createElement(k,i({ref:t},c))}));function k(e,t){var o=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=o.length,i=new Array(r);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:n,i[1]=s;for(var p=2;p<r;p++)i[p]=o[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,o)}m.displayName="MDXCreateElement"},59082:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>p});var a=o(87462),n=(o(67294),o(3905));const r={id:"concept-dc82a0be-66cc-43ce-b99b-38495da0acca",slug:"/create-tests/keywords/custom-keywords/flutter-based-application-testing-with-custom-settext-keyword-in-katalon-studio"},i="Flutter-based application testing with custom SetText keyword in Katalon Studio",s={unversionedId:"concept-dc82a0be-66cc-43ce-b99b-38495da0acca",id:"concept-dc82a0be-66cc-43ce-b99b-38495da0acca",title:"Flutter-based application testing with custom SetText keyword in Katalon Studio",description:"Flutter is a UI toolkit for building applications for mobile, web, desktop, and embedded devices from a single codebase.",source:"@site/docs/concept-dc82a0be-66cc-43ce-b99b-38495da0acca.mdx",sourceDirName:".",slug:"/create-tests/keywords/custom-keywords/flutter-based-application-testing-with-custom-settext-keyword-in-katalon-studio",permalink:"/create-tests/keywords/custom-keywords/flutter-based-application-testing-with-custom-settext-keyword-in-katalon-studio",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/concept-dc82a0be-66cc-43ce-b99b-38495da0acca.mdx",tags:[],version:"current",frontMatter:{id:"concept-dc82a0be-66cc-43ce-b99b-38495da0acca",slug:"/create-tests/keywords/custom-keywords/flutter-based-application-testing-with-custom-settext-keyword-in-katalon-studio"},sidebar:"tutorialSidebar",previous:{title:"Execute test with Katalon Studio in Internet Explorer \\(IE\\) mode in Microsoft Edge",permalink:"/create-tests/keywords/custom-keywords/execute-test-with-katalon-studio-in-internet-explorer-ie-mode-in-microsoft-edge"},next:{title:"Solving Pop-up dialog issue with Katalon Studio",permalink:"/create-tests/keywords/using-keywords-in-katalon-studio/web-testing/solving-pop-up-dialog-issue-with-katalon-studio"}},l={},p=[{value:"Set up Appium Flutter Driver",id:"set-up-appium-flutter-driver",level:2},{value:"Run Flutter-based application test with custom SetText keyword",id:"run-flutter-based-application-test-with-custom-settext-keyword",level:2},{value:"How to switch contexts?",id:"how-to-switch-contexts",level:2},{value:"See also",id:"see-also",level:2}],c={toc:p},u="wrapper";function d(e){let{components:t,...o}=e;return(0,n.kt)(u,(0,a.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"flutter-based-application-testing-with-custom-settext-keyword-in-katalon-studio"},"Flutter-based application testing with custom SetText keyword in Katalon Studio"),(0,n.kt)("p",null,"Flutter is a UI toolkit for building applications for mobile, web, desktop, and embedded devices from a single codebase."),(0,n.kt)("admonition",{type:"caution"},(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"Katalon Studio partially supports Flutter-based applications. If elements of a Flutter-based app are rendered as in a native app, Katalon Mobile Recorder can capture elements. If those elements are rendered in web view, which is a use case of a hybrid Mobile app, Katalon Studio partially supports elements capturing."))),(0,n.kt)("p",null,"You can use Mobile keywords to automate your Flutter-based application. However, Katalon Mobile Spy and Recorder currently cannot detect ",(0,n.kt)("strong",{parentName:"p"},"EditText")," elements in Flutter-based applications. This tutorial provides a workaround to automatically test the Flutter-based application using a custom SetText keyword package."),(0,n.kt)("h2",{id:"set-up-appium-flutter-driver"},"Set up Appium Flutter Driver"),(0,n.kt)("p",null,"To set up Katalon Studio for Flutter-based mobile app testing, you need to use Appium Flutter Driver. Appium Flutter Driver is a test automation tool for Flutter apps on multiple platforms/OSes. Appium Flutter Driver is part of the Appium mobile test automation tool maintained by the community. To install Appium Flutter Driver, you can refer to this README file of the Appium GitHub repository: ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/appium-userland/appium-flutter-driver"},"Appium Flutter Driver"),"."),(0,n.kt)("p",null,"To use Appium Flutter Driver with Katalon Studio, follow these requirements:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Your Flutter App Under Test ","(","AUT",")"," must be compiled in ",(0,n.kt)("code",null,"debug")," or ",(0,n.kt)("code",null,"profile")," mode because Flutter Driver does not support running in release mode."),(0,n.kt)("li",{parentName:"ul"},"Your Flutter AUT has ",(0,n.kt)("code",null,"enableFlutterDriverExtension()")," before ",(0,n.kt)("code",null,"runApp")," in source code.")),(0,n.kt)("p",null,"In Katalon Studio, specify this desired capability to let Katalon Studio run with Appium Flutter Driver: Go to ",(0,n.kt)("strong",{parentName:"p"},"Project Settings ",">"," Desired Capabilities ",">"," Mobile"),". Select Android or iOS, then create a desired capabilities, which value is ",(0,n.kt)("code",null,"Flutter"),"."),(0,n.kt)("img",{src:"https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/tutorials/flutter-based-application-testing/KS-FLUTTER-Set-flutter-DC.png",width:700,alt:"desired capabilities"}),(0,n.kt)("h2",{id:"run-flutter-based-application-test-with-custom-settext-keyword"},"Run Flutter-based application test with custom SetText keyword"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"In Katalon Studio, open your project and create a new test case. Record your mobile testing script. Use ",(0,n.kt)("a",{parentName:"p",href:"/create-tests/keywords/keyword-description-in-katalon-studio/mobile-keywords/mobile-tap"},"Tap keyword")," on elements ",(0,n.kt)("strong",{parentName:"p"},"EditText - Email")," and ",(0,n.kt)("strong",{parentName:"p"},"EditText - Password"),", then click ",(0,n.kt)("strong",{parentName:"p"},"Save"),".")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"In the ",(0,n.kt)("strong",{parentName:"p"},"Tests Explorer")," section on the left side of Katalon Studio, navigate to the ",(0,n.kt)("strong",{parentName:"p"},"Keywords")," folder and create a new keyword package. Name the package ",(0,n.kt)("strong",{parentName:"p"},"com.kms.katalon.core.mobile.keyword.builtin"),"."),(0,n.kt)("img",{src:"https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/tutorials/flutter-based-application-testing/create%20package.png",width:700,alt:"create package"})),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Right click on the ",(0,n.kt)("strong",{parentName:"p"},"com.kms.katalon.core.mobile.keyword.builtin")," package and create a new keyword named ",(0,n.kt)("strong",{parentName:"p"},"SetTextKeyword"),". See also: ",(0,n.kt)("a",{parentName:"p",href:"/create-tests/keywords/custom-keywords/introduction-to-custom-keywords-in-katalon-studio"},"Introduction to Custom Keywords"),". ",(0,n.kt)("img",{src:"https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/tutorials/flutter-based-application-testing/create%20keyword.png",width:600,alt:"create Class name"})," In the ",(0,n.kt)("strong",{parentName:"p"},"SetTextKeyword.groovy")," file, copy and paste the following script and save it. ",(0,n.kt)("strong",{parentName:"p"},"SetTextKeyword.groovy script"),":"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre"},'package com.kms.katalon.core.mobile.keyword.builtin\n\nimport java.text.MessageFormat\n\nimport org.openqa.selenium.InvalidElementStateException\nimport org.openqa.selenium.Keys\nimport org.openqa.selenium.WebElement\nimport org.openqa.selenium.interactions.KeyInput\nimport org.openqa.selenium.interactions.Sequence;\n\nimport com.kms.katalon.core.annotation.internal.Action\nimport com.kms.katalon.core.configuration.RunConfiguration\nimport com.kms.katalon.core.exception.StepFailedException\nimport com.kms.katalon.core.helper.KeywordHelper\nimport com.kms.katalon.core.keyword.internal.SupportLevel\nimport com.kms.katalon.core.mobile.constants.StringConstants\nimport com.kms.katalon.core.mobile.keyword.internal.MobileAbstractKeyword\nimport com.kms.katalon.core.mobile.keyword.internal.MobileDriverFactory\nimport com.kms.katalon.core.mobile.keyword.internal.MobileKeywordMain\nimport com.kms.katalon.core.model.FailureHandling\nimport com.kms.katalon.core.testobject.TestObject\nimport com.kms.katalon.selenium.util.SeleniumKeysUtil;\n\nimport groovy.transform.CompileStatic\nimport io.appium.java_client.AppiumDriver\n\n@Action(value = "setText")\npublic class SetTextKeyword extends MobileAbstractKeyword {\n\n    @CompileStatic\n    @Override\n    public SupportLevel getSupportLevel(Object ...params) {\n        return super.getSupportLevel(params)\n    }\n\n    @CompileStatic\n    @Override\n    public Object execute(Object ...params) {\n        TestObject to = getTestObject(params[0])\n        String text = (String) params[1]\n        int timeout = (int) params[2]\n        FailureHandling flowControl = (FailureHandling)(params.length > 3 && params[3] instanceof FailureHandling ? params[3] : RunConfiguration.getDefaultFailureHandling())\n        setText(to,text,timeout,flowControl)\n    }\n\n    @CompileStatic\n    public void setText(TestObject to, String text, int timeout, FailureHandling flowControl) throws StepFailedException {\n        MobileKeywordMain.runKeyword({\n            KeywordHelper.checkTestObjectParameter(to)\n            timeout = KeywordHelper.checkTimeout(timeout)\n            WebElement element = findElement(to, timeout * 1000)\n            if (element == null) {\n                MobileKeywordMain.stepFailed(MessageFormat.format(StringConstants.KW_MSG_OBJ_NOT_FOUND, to.getObjectId()), flowControl, null, true)\n                return\n            }\n            element.clear()\n            try {\n                element.sendKeys(text.toString())\n            } catch (InvalidElementStateException e) {\n                AppiumDriver driver = MobileDriverFactory.getDriver()\n                element.click()\n                KeyInput keyboard = new KeyInput("keyboard");\n                Sequence sendKeys = new Sequence(keyboard, 0);\n\n                for (int i = 0; i < text.length(); i++) {\n                    String c = text.charAt(i).toString()\n\n                    sendKeys.addAction(keyboard.createKeyDown(c.codePointAt(0)));\n                }\n\n                driver.perform(Arrays.asList(sendKeys));\n            }\n            String readableText = SeleniumKeysUtil.getReadableText(text)\n            logger.logPassed(MessageFormat.format(StringConstants.KW_LOG_PASSED_TEXT_HAS_BEEN_SET_TO_ELEMENT, [\n                readableText,\n                to.getObjectId()] as Object[]))\n        }, flowControl, true, to != null ? MessageFormat.format(StringConstants.KW_MSG_FAILED_TO_SET_ELEMENT_TEXT, to.getObjectId()) : StringConstants.KW_MSG_FAILED_TO_SET_ELEMENT_TEXT)\n    }\n}\n\n')),(0,n.kt)("img",{src:"https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/tutorials/flutter-based-application-testing/KS-flutter-based-application-testing-folder.png",width:700,alt:"create custom keyword"})),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"In the toolbar, select ",(0,n.kt)("strong",{parentName:"p"},"Window ",">"," Reset Perspective..."))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Create a Test Case and switch to ",(0,n.kt)("strong",{parentName:"p"},"Script")," mode. Enter ",(0,n.kt)("strong",{parentName:"p"},"Mobile.setText"),", then select ",(0,n.kt)("code",null,"setText(TestObject to, String text, int timeout, FailureHandling flowcontrol)"),". See also: ",(0,n.kt)("a",{parentName:"p",href:"/create-tests/keywords/keyword-description-in-katalon-studio/mobile-keywords/mobile-set-text"},"[","Mobile","]"," Set Text"),"."),(0,n.kt)("img",{src:"https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/tutorials/flutter-based-application-testing/KS-flutter-setText.png",width:700,alt:"settext option"})),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Run your Test Case and see if it passes successfully."))),(0,n.kt)("h2",{id:"how-to-switch-contexts"},"How to switch contexts?"),(0,n.kt)("p",null,"For the test engine to know whether you want to automate the native aspects of the app or the web views, Katalon Studio provides two keywords that help you switch contexts:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/create-tests/keywords/keyword-description-in-katalon-studio/mobile-keywords/mobile-switch-to-native"},"Switch to Native")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/create-tests/keywords/keyword-description-in-katalon-studio/mobile-keywords/mobile-switch-to-web-view"},"Switch to WebView"))),(0,n.kt)("p",null,"The following is a code sample that automates elements of the app:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'Mobile.switchToWebView()\nDriverFactory.changeWebDriver(MobileDriverFactory.getDriver())\n\nTestObject cdmDetails = new TestObject()\ncdmDetails.addProperty("id", ConditionType.EQUALS, "119")\nWebUI.setText(cdmDetails, "123")\n\nMobile.switchToNative()\n\n')),(0,n.kt)("h2",{id:"see-also"},"See also"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/create-tests/record-and-spy/mobile-record-and-spy-utilities/hybrid-mobile-apps-testing/capture-elements-in-hybrid-android-apps-in-katalon-studio"},"Capture elements in hybrid Android apps"))))}d.isMDXComponent=!0}}]);