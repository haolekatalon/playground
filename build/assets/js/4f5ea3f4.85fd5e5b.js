"use strict";(self.webpackChunkplayground=self.webpackChunkplayground||[]).push([[74665],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var i=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=i.createContext({}),p=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=p(e.components);return i.createElement(s.Provider,{value:t},e.children)},k="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},d=i.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),k=p(n),d=o,m=k["".concat(s,".").concat(d)]||k[d]||u[d]||a;return n?i.createElement(m,r(r({ref:t},c),{},{components:n})):i.createElement(m,r({ref:t},c))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,r=new Array(a);r[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[k]="string"==typeof e?e:o,r[1]=l;for(var p=2;p<a;p++)r[p]=n[p];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}d.displayName="MDXCreateElement"},1197:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>p});var i=n(87462),o=(n(67294),n(3905));const a={id:"concept-83fff7ee-8d2d-4088-bc76-90fd0a8ea385",slug:"/execute/ci-cd-integrations/jenkins-integration/use-katalon-docker-image-for-jenkins-integration/integrate-jenkins-pipeline-jenkinsfile-with-katalon-studio-docker-image"},r="Integrate Jenkins Pipeline (Jenkinsfile) with Katalon Studio Docker Image",l={unversionedId:"concept-83fff7ee-8d2d-4088-bc76-90fd0a8ea385",id:"concept-83fff7ee-8d2d-4088-bc76-90fd0a8ea385",title:"Integrate Jenkins Pipeline \\(Jenkinsfile\\) with Katalon Studio Docker Image",description:"This tutorial shows you how to integrate Jenkins Pipeline \\(Jenkinsfile\\) with Katalon Studio Docker Image. This image contains up-to-date browsers, including Google Chrome, Mozilla Firefox, and Katalon Studio. Hence when running your Katalon Project with Katalon Studio Docker Image, the pre-installed Katalon Studio and Katalon Runtime Engine in your local machine are not required. Docker Image for Katalon Studio is available here at Docker Hub: katalonstudio/katalon.",source:"@site/docs/concept-83fff7ee-8d2d-4088-bc76-90fd0a8ea385.mdx",sourceDirName:".",slug:"/execute/ci-cd-integrations/jenkins-integration/use-katalon-docker-image-for-jenkins-integration/integrate-jenkins-pipeline-jenkinsfile-with-katalon-studio-docker-image",permalink:"/execute/ci-cd-integrations/jenkins-integration/use-katalon-docker-image-for-jenkins-integration/integrate-jenkins-pipeline-jenkinsfile-with-katalon-studio-docker-image",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/concept-83fff7ee-8d2d-4088-bc76-90fd0a8ea385.mdx",tags:[],version:"current",frontMatter:{id:"concept-83fff7ee-8d2d-4088-bc76-90fd0a8ea385",slug:"/execute/ci-cd-integrations/jenkins-integration/use-katalon-docker-image-for-jenkins-integration/integrate-jenkins-pipeline-jenkinsfile-with-katalon-studio-docker-image"},sidebar:"tutorialSidebar",previous:{title:"Integrate Jenkins on Docker hosted in Ubuntu",permalink:"/execute/ci-cd-integrations/jenkins-integration/use-katalon-docker-image-for-jenkins-integration/integrate-jenkins-on-docker-hosted-in-ubuntu"},next:{title:"Execute Katalon Studio tests with Jenkins Pipeline Script \\(Jenkinsfile\\)",permalink:"/execute/ci-cd-integrations/jenkins-integration/execute-katalon-studio-tests-with-jenkins-pipeline-script-jenkinsfile"}},s={},p=[{value:"Integrate Jenkins with Docker",id:"integrate-jenkins-with-docker",level:2},{value:"Install plugins",id:"install-plugins",level:3},{value:"Add an environment path",id:"add-an-environment-path",level:3},{value:"Upload your Pipeline script",id:"upload-your-pipeline-script",level:3},{value:"Build your project",id:"build-your-project",level:2},{value:"See also",id:"see-also",level:2}],c={toc:p},k="wrapper";function u(e){let{components:t,...n}=e;return(0,o.kt)(k,(0,i.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"integrate-jenkins-pipeline-jenkinsfile-with-katalon-studio-docker-image"},"Integrate Jenkins Pipeline ","(","Jenkinsfile",")"," with Katalon Studio Docker Image"),(0,o.kt)("p",null,"This tutorial shows you how to integrate Jenkins Pipeline ","(","Jenkinsfile",")"," with Katalon Studio Docker Image. This image contains up-to-date browsers, including Google Chrome, Mozilla Firefox, and Katalon Studio. Hence when running your Katalon Project with Katalon Studio Docker Image, the pre-installed Katalon Studio and Katalon Runtime Engine in your local machine are not required. Docker Image for Katalon Studio is available here at Docker Hub: ",(0,o.kt)("a",{parentName:"p",href:"https://hub.docker.com/r/katalonstudio/katalon/"},"katalonstudio/katalon"),"."),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Jenkins installed. Follow the instructions in this Jenkins document for installation: ",(0,o.kt)("a",{parentName:"p",href:"https://www.jenkins.io/doc/book/installing/"},"Getting started"),".")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Docker installed. You can refer to the instructions in the Docker document here: ",(0,o.kt)("a",{parentName:"p",href:"https://docs.docker.com/get-docker/"},"Get Docker"),".")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"An active Katalon Runtime Engine floating license. To learn more about types of licenses, you can refer to this document: ",(0,o.kt)("a",{parentName:"p",href:"/administer/katalon-studio-enterprise-and-katalon-runtime-engine-license/license-overview"},"Types of license"),".")))),(0,o.kt)("h2",{id:"integrate-jenkins-with-docker"},"Integrate Jenkins with Docker"),(0,o.kt)("h3",{id:"install-plugins"},"Install plugins"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Install the ",(0,o.kt)("strong",{parentName:"p"},"Docker")," plugin and ",(0,o.kt)("strong",{parentName:"p"},"Docker Pipeline")," plugin. Go to ",(0,o.kt)("strong",{parentName:"p"},"Manage Jenkins ",">"," Manage Plugins ",">"," Available tab")," and search for the ",(0,o.kt)("strong",{parentName:"p"},"Docker")," plugin and ",(0,o.kt)("strong",{parentName:"p"},"Docker Pipeline")," plugin.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Select the plugin and click ",(0,o.kt)("strong",{parentName:"p"},"Install without restart"),"."),(0,o.kt)("img",{src:"https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/jenkins-docker/plugins.png",alt:"plugins"}))),(0,o.kt)("h3",{id:"add-an-environment-path"},"Add an environment path"),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},"For Windows users, this step is not required. You can now skip to ",(0,o.kt)("a",{parentName:"li",href:"https://docs.katalon.com/katalon-studio/docs/jenkins-pipeline-docker.html#upload-your-pipeline-script"},"Upload your Pipline script"),"."))),(0,o.kt)("p",null,"For macOS/Linux, when running builds with Docker from a Jenkinsfile with Pipeline syntax, you need to add an environment path to Jenkins. This ",(0,o.kt)("code",null,"PATH")," helps Jenkins point to the correct Docker installation path. Do as follows:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"To find the correct Docker installation path, open ",(0,o.kt)("strong",{parentName:"p"},"Terminal"),", copy and paste the following command line: ",(0,o.kt)("code",null,"which docker"),". The result will tell you where the Docker is. Here, our Docker installation path is: ",(0,o.kt)("code",null,"/usr/local/bin/docker"),"."),(0,o.kt)("img",{src:"https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/jenkins-plugin-windows/KS-JENKINS-Docker-installation-path-2.png",alt:"Docker installation path"})),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Go to ",(0,o.kt)("strong",{parentName:"p"},"Dashboard ",">"," Manage Jenkins ",">"," Configure System ",">"," Global properties"),". Select the ",(0,o.kt)("strong",{parentName:"p"},"Environment variables")," to add a global variable named ",(0,o.kt)("code",null,"PathExtra")," with this value:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},"$PATH:<the correct Docker installation path>\n")),(0,o.kt)("p",{parentName:"li"},". For our example, the ",(0,o.kt)("code",null,"PathExtra")," value is: ",(0,o.kt)("code",null,"$PATH:","<","/usr/local/bin/docker",">"),"."),(0,o.kt)("img",{src:"https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/jenkins-plugin-windows/KS-JENKINS-add%20env-path-to-jenkins.png",alt:"Add environment path to Jenkins pipline"}))),(0,o.kt)("h3",{id:"upload-your-pipeline-script"},"Upload your Pipeline script"),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Make sure you have Docker open, with ",(0,o.kt)("strong",{parentName:"p"},"Docker Plugin")," and ",(0,o.kt)("strong",{parentName:"p"},"Docker Pipeline")," activated on Jenkins.")),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"In the Jenkins Dashboard, go to ",(0,o.kt)("strong",{parentName:"p"},"New Item")," and create a ",(0,o.kt)("strong",{parentName:"p"},"Jenkins Pipeline")," project."),(0,o.kt)("img",{src:"https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/jenkins-plugin-windows/create-pipeline.png"})),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"In the ",(0,o.kt)("strong",{parentName:"p"},"Definition")," dropdown list, you can choose ",(0,o.kt)("strong",{parentName:"p"},"Pipeline Script")," or ",(0,o.kt)("strong",{parentName:"p"},"Pipeline Script from SCM"),", depending on where you store your Jenkinsfile. The ",(0,o.kt)("strong",{parentName:"p"},"Pipeline Script from SCM")," instructs Jenkins to obtain your Pipeline from Source Control Management ","(","SCM",")",", which will be your locally cloned Git repository. To learn more about defining a Pipeline, you can refer to this Jenkins document: ",(0,o.kt)("a",{parentName:"p",href:"https://www.jenkins.io/doc/book/pipeline/getting-started/#defining-a-pipeline-in-scm"},"Getting started with Pipeline"),"."),(0,o.kt)("p",{parentName:"li"},"Here, since we have our Pipeline project stored in Git, we select ",(0,o.kt)("strong",{parentName:"p"},"Pipeline Script from SCM"),"."),(0,o.kt)("img",{src:"https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/jenkins-plugin-windows/git.png",alt:"Choose Pipeline Script from SCM"})),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"In the ",(0,o.kt)("strong",{parentName:"p"},"SCM")," field, select ",(0,o.kt)("strong",{parentName:"p"},"Git"),". Enter your repository URL, select branches to build, repository browser, and additional behaviors, if any. You can clone and download the following sample project here: ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/katalon-studio-samples/ci-samples"},"CI samples"),"."),(0,o.kt)("img",{src:"https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/jenkins-plugin-windows/KS-JENKINS-Add-Git-url-in-pipline-from-SCM.png",alt:"Enter Git repository url"})),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Specify the Jenkinsfile path from your Git project in the ",(0,o.kt)("strong",{parentName:"p"},"Script Path")," box."),(0,o.kt)("img",{src:"https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/jenkins-plugin-windows/KS-JENKINS-Add-Jenkinspath-2.png",alt:"Jenkinsfile path"}),(0,o.kt)("admonition",{parentName:"li",type:"note"},(0,o.kt)("p",{parentName:"admonition"},"To quickly copy the Jenkinsfile path, go to your Jenkinsfile in your Github repository, click ",(0,o.kt)("em",{parentName:"p"},"More")," ","(","...",")",", then click ",(0,o.kt)("strong",{parentName:"p"},"Copy Path"),"."),(0,o.kt)("img",{src:"https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/jenkins-plugin-windows/KS-JENKINS-Quickly-go-to-Jenkins-file-in-Git.png",alt:"Quickly Jenkinsfile path in Git project"})),(0,o.kt)("p",{parentName:"li"},"You can see our sample Jenkinsfile for MacOS/Linux here: ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/katalon-studio-samples/ci-samples/blob/master/Jenkinsfile"},"Jenkinsfile"),". In case you are using Windows, replace the ",(0,o.kt)("code",null,"sh")," command in this sample Jenkinsfile with the ",(0,o.kt)("code",null,"bat")," command:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},"steps {\nbat ''\n}\n\n")),(0,o.kt)("p",{parentName:"li"},"For example, we want to run the ",(0,o.kt)("strong",{parentName:"p"},"TS","_","RegressionTest")," test suite from the ",(0,o.kt)("strong",{parentName:"p"},"CI samples")," project with the Chrome browser in Windows. We adjust the sample Jenkinsfile as follows:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},"pipeline {\n    agent any\n    stages {\n        stage('Test') {\n            steps {\n                dir('/Users/<user_name>/Downloads/ci-samples-master'){\n                    bat 'docker run -t --rm -v \"$(pwd)\":/tmp/project katalonstudio/katalon katalonc.sh -projectPath=/tmp/project -browserType=\"Chrome\" -retry=0 -statusDelay=15 -testSuitePath=\"Test Suites/TS_RegressionTest\" -apiKey=<your-api-key>'\n                }\n            }\n        }\n    }\n\n")),(0,o.kt)("admonition",{parentName:"li",type:"note"},(0,o.kt)("p",{parentName:"admonition"},"After cloning our sample Jenkinsfile to your repository, customize the below command lines for your purposes:"),(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("code",null,"<your-project-folder>"),": the direct path to your project folder in the local machine."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("code",null,"<your_API_Key>"),": the API key verifies your credentials. The command-line options of API Key, including ",(0,o.kt)("code",null,"-apiKey=<Your_API_Key>")," and ",(0,o.kt)("code",null,"-apikey=<Your_API_Key>")," are both accepted. To learn more about API keys, you can refer to this document: [API key](/administer/settings/katalon-api-key-in-katalon-testops)."),(0,o.kt)("li",{parentName:"ul"},"From version 7.7.0 onwards, if you belong to more than one Organization subscribing to Runtime Engine licenses, you can choose which Organization validates your license usage with the following command line: ",(0,o.kt)("code",null,"-orgID=","<","Katalon","_","OrgID",">"),"."))))),(0,o.kt)("h2",{id:"build-your-project"},"Build your project"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click ",(0,o.kt)("strong",{parentName:"p"},"Save"),", then click ",(0,o.kt)("strong",{parentName:"p"},"Build Now")," to run the Jenkinsfile. While the test is being run, if Docker cannot find the ",(0,o.kt)("code",null,"katalonstudio/katalon")," image locally, it will automatically pull this image."),(0,o.kt)("img",{src:"https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/jenkins-plugin-windows/KS-JENKINS-Build-now.png",width:600,alt:"Build your Jenkins project"})),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"To view the console log, click on your current build on Jenkins and select ",(0,o.kt)("strong",{parentName:"p"},"Console Output"),"."),(0,o.kt)("img",{src:"https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/jenkins-plugin-windows/KS-JENKINS-pipeline-console-output-2.png",alt:"View console output"}),(0,o.kt)("p",{parentName:"li"},"You can also view the console log in Docker during the test."),(0,o.kt)("img",{src:"https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/jenkins-docker/docker-log.png",alt:"docker log"})),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"To view your report files, you can go to this directory: ",(0,o.kt)("code",null,"<","your-project-folder",">","/Reports")," or your third-party integration like Katalon TestOps, Azure DevOps, or qTest. Katalon Studio supports exporting test reports in ",(0,o.kt)("strong",{parentName:"p"},"HTML"),", ",(0,o.kt)("strong",{parentName:"p"},"CSV"),", ",(0,o.kt)("strong",{parentName:"p"},"PDF"),", and ",(0,o.kt)("strong",{parentName:"p"},"JUnit"),"."),(0,o.kt)("admonition",{parentName:"li",type:"note"},(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},"To display characters with UTF-8 encoding in test reports, you can specify the ",(0,o.kt)("code",null,"-Dfile.encoding=UTF8")," argument in the jenkins.xml file."))))),(0,o.kt)("h2",{id:"see-also"},"See also"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/execute/ci-cd-integrations/jenkins-integration/use-katalon-docker-image-for-jenkins-integration/integrate-jenkins-on-docker-hosted-in-ubuntu#"},"Integrate Jenkins on Docker hosted in Ubuntu"))))}u.isMDXComponent=!0}}]);