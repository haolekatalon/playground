"use strict";(self.webpackChunkplayground=self.webpackChunkplayground||[]).push([[31124],{3905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>m});var s=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,s,o=function(e,t){if(null==e)return{};var n,s,o={},r=Object.keys(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=s.createContext({}),u=function(e){var t=s.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},l=function(e){var t=u(e.components);return s.createElement(c.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return s.createElement(s.Fragment,{},t)}},b=s.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,c=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),p=u(n),b=o,m=p["".concat(c,".").concat(b)]||p[b]||d[b]||r;return n?s.createElement(m,a(a({ref:t},l),{},{components:n})):s.createElement(m,a({ref:t},l))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,a=new Array(r);a[0]=b;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[p]="string"==typeof e?e:o,a[1]=i;for(var u=2;u<r;u++)a[u]=n[u];return s.createElement.apply(null,a)}return s.createElement.apply(null,n)}b.displayName="MDXCreateElement"},25296:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>i,toc:()=>u});var s=n(87462),o=(n(67294),n(3905));const r={id:"concept-f31b97e3-2b89-47b0-b2be-518a5d6f5200",slug:"/create-tests/test-objects/api-test-objects/rest-request/create-rest-api-requests-manually-in-katalon-studio"},a="Create REST API requests manually in Katalon Studio",i={unversionedId:"concept-f31b97e3-2b89-47b0-b2be-518a5d6f5200",id:"concept-f31b97e3-2b89-47b0-b2be-518a5d6f5200",title:"Create REST API requests manually in Katalon Studio",description:"About the author",source:"@site/docs/concept-f31b97e3-2b89-47b0-b2be-518a5d6f5200.mdx",sourceDirName:".",slug:"/create-tests/test-objects/api-test-objects/rest-request/create-rest-api-requests-manually-in-katalon-studio",permalink:"/create-tests/test-objects/api-test-objects/rest-request/create-rest-api-requests-manually-in-katalon-studio",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/concept-f31b97e3-2b89-47b0-b2be-518a5d6f5200.mdx",tags:[],version:"current",frontMatter:{id:"concept-f31b97e3-2b89-47b0-b2be-518a5d6f5200",slug:"/create-tests/test-objects/api-test-objects/rest-request/create-rest-api-requests-manually-in-katalon-studio"},sidebar:"tutorialSidebar",previous:{title:"REST Request in Katalon Studio",permalink:"/create-tests/test-objects/api-test-objects/rest-request/rest-request-in-katalon-studio"},next:{title:"Parameterize a Web Service Object in Katalon Studio",permalink:"/create-tests/test-objects/api-test-objects/rest-request/parameterize-a-web-service-object-in-katalon-studio"}},c={},u=[{value:"Introduction",id:"introduction",level:2},{value:"Requirements",id:"requirements",level:3},{value:"RequestObject and ResponseObject",id:"requestobject-and-responseobject",level:2},{value:"ResponseObject",id:"responseobject",level:2},{value:"Conclusion",id:"conclusion",level:3}],l={toc:u},p="wrapper";function d(e){let{components:t,...n}=e;return(0,o.kt)(p,(0,s.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"create-rest-api-requests-manually-in-katalon-studio"},"Create REST API requests manually in Katalon Studio"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"About the author")),(0,o.kt)("p",null,"Marek Melocik is currently working as Test Automation Engineer in Brno, Czech Republic. He has been working in QA industry since 2014."),(0,o.kt)("p",null,"Meet Marek at ",(0,o.kt)("a",{parentName:"p",href:"https://www.linkedin.com/in/marek-melocik/"},"www.linkedin.com/in/marek-melocik")),(0,o.kt)("h2",{id:"introduction"},"Introduction"),(0,o.kt)("p",null,"Katalon offers a great UI support for creating REST API requests. But if you are the advanced Katalon user, you can do it manually and benefit from a large library of Katalon support methods for API requests. This tutorial will be about how to create REST API requests from manual and handle responses to make your code robust and effective."),(0,o.kt)("h3",{id:"requirements"},"Requirements"),(0,o.kt)("p",null,"You should be familiar with Katalon Studio and know the basics of Java/Groovy."),(0,o.kt)("h2",{id:"requestobject-and-responseobject"},"RequestObject and ResponseObject"),(0,o.kt)("p",null,"These are two main classes for handling API requests. I am sure you have already figured out that the RequestObject class represents an API request and the WSBuiltInKeywords.sendRequest method returns ResponseObject."),(0,o.kt)("p",null,"Now let's create a REST API request as an example ","(","of course, you can do the same with SOAP API requests",")",". You first need to have information for a request, including"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"URL"),(0,o.kt)("li",{parentName:"ul"},"Request method ","(","GET, POST, PUT, DELETE, \u2026",")"),(0,o.kt)("li",{parentName:"ul"},"Request headers ","(","Authorization, Content-Type, \u2026",")"),(0,o.kt)("li",{parentName:"ul"},"Request body ","(","for POST request",")"),(0,o.kt)("li",{parentName:"ul"},"REST request parameters")),(0,o.kt)("p",null,"Next, you create an object from RequestObject using either one of the following ways:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"New a RequestObject instance directly and set its information using setter methods such as ",(0,o.kt)("em",{parentName:"li"},"setRestUrl","(",")")," and ",(0,o.kt)("em",{parentName:"li"},"setRestRequestMethod","(",")"),"."),(0,o.kt)("li",{parentName:"ul"},"Use RestRequestObjectBuilder, a useful helper class offered by Katalon Studio version 5.4 and later.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'import com.kms.katalon.core.testobject.ConditionType\nimport com.kms.katalon.core.testobject.RequestObject\nimport com.kms.katalon.core.testobject.ResponseObject\nimport com.kms.katalon.core.testobject.RestRequestObjectBuilder\nimport com.kms.katalon.core.testobject.TestObjectProperty\nimport com.kms.katalon.core.testobject.impl.HttpTextBodyContent\nimport com.kms.katalon.core.webservice.keyword.WSBuiltInKeywords as WS\n \npublic class SampleRequestObject {\n \nString endpoint = "https://www.katalon.com"\nString requestMethod = "GET"\nString authHeader = "whateverYouNeedForAuthentication"\n \nTestObjectProperty header1 = new TestObjectProperty("Authorization", ConditionType.EQUALS, authHeader)\nTestObjectProperty header2 = new TestObjectProperty("Content-Type", ConditionType.EQUALS, "application/json")\nTestObjectProperty header3 = new TestObjectProperty("Accept", ConditionType.EQUALS, "application/json")\nArrayList defaultHeaders = Arrays.asList(header1, header2, header3)\n \n/**\n* GET requests\n* @return\n*/\npublic ResponseObject buildApiRequest1() {\nRequestObject ro = new RequestObject("objectId")\nro.setRestUrl(endpoint)\nro.setHttpHeaderProperties(defaultHeaders)\nro.setRestRequestMethod(requestMethod)\n \nResponseObject respObj = WS.sendRequest(ro)\nreturn respObj\n}\n \npublic ResponseObject buildApiRequest2() {\nRequestObject ro = new RestRequestObjectBuilder()\n.withRestUrl(endpoint)\n.withHttpHeaders(defaultHeaders)\n.withRestRequestMethod(requestMethod)\n.build()\n \nResponseObject respObj = WS.sendRequest(ro)\nreturn respObj\n}\n}\n\n\n')),(0,o.kt)("p",null,"As you can see, the source code includes two different ways to create a request. Both of them return a ResponseObject object. When using RestRequestObjectBuilder to create a RequestObject instance, you call ",(0,o.kt)("em",{parentName:"p"},"withXXX","(",")")," and ",(0,o.kt)("em",{parentName:"p"},"build","(",")")," methods."),(0,o.kt)("p",null,"One benefit of RestRequestObjectBuilder is that it has additional methods to allow directly setting different body types for POST requests such as ",(0,o.kt)("em",{parentName:"p"},"FileBodyContent")," and ",(0,o.kt)("em",{parentName:"p"},"MultipartFormBodyContent"),". It is possible also using RequestObject, but it is more straightforward with RestRequestObjectBuilder."),(0,o.kt)("p",null,"For further details on the methods of these classes, please visit ",(0,o.kt)("a",{parentName:"p",href:"https://api-docs.katalon.com/com/kms/katalon/core/testobject/RequestObject.html"},"RequestObject")," and ",(0,o.kt)("a",{parentName:"p",href:"https://api-docs.katalon.com/com/kms/katalon/core/testobject/RestRequestObjectBuilder.html"},"RestRequestObjectBuilder")," on Katalon API Documentation website."),(0,o.kt)("p",null,"As a note, if you want to use HTTP headers, you can create new TestObjectProperty instances as shown in the code snippet."),(0,o.kt)("p",null,"Creating a POST request is basically the same as a GET request, but you must specify the request body using either ",(0,o.kt)("em",{parentName:"p"},"setBodyContent")," from RequestObject or ",(0,o.kt)("em",{parentName:"p"},"withTextBodyContent")," from RestRequestObjectBuilder."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'import com.kms.katalon.core.testobject.ConditionType\nimport com.kms.katalon.core.testobject.RequestObject\nimport com.kms.katalon.core.testobject.ResponseObject\nimport com.kms.katalon.core.testobject.RestRequestObjectBuilder\nimport com.kms.katalon.core.testobject.TestObjectProperty\nimport com.kms.katalon.core.testobject.impl.HttpTextBodyContent\nimport com.kms.katalon.core.webservice.keyword.WSBuiltInKeywords as WS\n \npublic class SampleRequestObject {\n \nString endpoint = "https://www.katalon.com"\nString requestMethod = "POST"\nString authHeader = "whateverYouNeedForAuthentication"\n \nTestObjectProperty header1 = new TestObjectProperty("Authorization", ConditionType.EQUALS, authHeader)\nTestObjectProperty header2 = new TestObjectProperty("Content-Type", ConditionType.EQUALS, "application/json")\nTestObjectProperty header3 = new TestObjectProperty("Accept", ConditionType.EQUALS, "application/json")\nArrayList defaultHeaders = Arrays.asList(header1, header2, header3)\n \nString body = \'{"dummyRequest":"yes"}\'\n \n/**\n* POST requests\n* @return\n*/\npublic ResponseObject buildPostApiRequest1() {\nRequestObject ro = new RequestObject("objectId")\nro.setRestUrl(endpoint)\nro.setHttpHeaderProperties(defaultHeaders)\nro.setRestRequestMethod("POST")\nro.setBodyContent(new HttpTextBodyContent(body))\n \nResponseObject respObj = WS.sendRequest(ro)\nreturn respObj\n}\n \npublic ResponseObject buildPostApiRequest2() {\nRequestObject ro = new RestRequestObjectBuilder()\n.withRestUrl(endpoint)\n.withHttpHeaders(defaultHeaders)\n.withRestRequestMethod("POST")\n.withTextBodyContent(body)\n.build()\n \nResponseObject respObj = WS.sendRequest(ro)\nreturn respObj\n}\n}\n\n\n')),(0,o.kt)("p",null,"There are many different types of request body such as file and form data body content. Please refer to ",(0,o.kt)("a",{parentName:"p",href:"https://api-docs.katalon.com/com/kms/katalon/core/testobject/RestRequestObjectBuilder.html"},"RestRequestObjectBuilder API documentation")," to get a full list of its methods."),(0,o.kt)("h2",{id:"responseobject"},"ResponseObject"),(0,o.kt)("p",null,"As you can see above, we get a ResponseObject instance when sending an API request. This object contains all information needed for a response, including status code, response body, response headers, waiting time and many others. Methods for handling response objects may look like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"import com.kms.katalon.core.testobject.ResponseObject\n \npublic class SampleResponseObject {\n \npublic static int getStatusCode(ResponseObject resp) {\nreturn resp.getStatusCode()\n}\npublic static String getResponseText(ResponseObject resp) {\nreturn resp.getResponseText()\n}\npublic static long getResponseBodySize(ResponseObject resp) {\nreturn resp.getResponseBodySize()\n}\npublic static long getResponseHeaderSize(ResponseObject resp) {\nreturn resp.getResponseHeaderSize()\n}\npublic static long getWaitingTime(ResponseObject resp) {\nreturn resp.getWaitingTime()\n}\n}\n\n\n")),(0,o.kt)("p",null,"And sample usage in your test case:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'import com.kms.katalon.core.testobject.ResponseObject\nimport com.kms.katalon.core.util.KeywordUtil\n \nimport mypackage.SampleRequestObject\nimport mypackage.SampleResponseObject as SampleResponseObject\n \nSampleRequestObject req = new SampleRequestObject()\n \nResponseObject resp = req.buildApiRequest1()\n \nif(SampleResponseObject.getStatusCode(resp) != 200) {\nKeywordUtil.markFailed("Status code is not 200 as expected. It is "\n+ SampleResponseObject.getStatusCode(resp))\n}\n \nif(SampleResponseObject.getWaitingTime(resp) > 5000) {\nKeywordUtil.markFailed("Your request takes more than 5000ms. Actual time is "\n+ SampleResponseObject.getWaitingTime(resp))\n}\n\n\n')),(0,o.kt)("p",null,"You may wonder why the SampleResponseObject class is needed as I can get all information directly by calling the methods from the response object. This wrapper may be helpful for your future enhancements as your code is less dependent on the ResponseObject class. If there are changes to this class, you only need to update the wrapper class. It is up to you which approach you follow, but both of them are correct."),(0,o.kt)("h3",{id:"conclusion"},"Conclusion"),(0,o.kt)("p",null,"This tutorial was focused on advanced usage of REST API requests in Katalon. As I prefer writing code instead of clicking in Manual mode, this tutorial may be helpful to similar automation engineers as I am."),(0,o.kt)("p",null,"RequestObject and ResponseObject are powerful classes, which may help you to customize your API tests in details."),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.katalon.com/download"},(0,o.kt)("img",{src:"https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/tutorials/create_rest_api_requests_manually/api-testing-interview-question-1024x101.png",alt:"Rest API Request Katalon Studio"}))))}d.isMDXComponent=!0}}]);