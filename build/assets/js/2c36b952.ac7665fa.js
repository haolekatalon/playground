"use strict";(self.webpackChunkplayground=self.webpackChunkplayground||[]).push([[98330],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>k});var n=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var l=n.createContext({}),s=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=s(e.components);return n.createElement(l.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),u=s(a),m=o,k=u["".concat(l,".").concat(m)]||u[m]||d[m]||r;return a?n.createElement(k,i(i({ref:t},c),{},{components:a})):n.createElement(k,i({ref:t},c))}));function k(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,i=new Array(r);i[0]=m;var p={};for(var l in t)hasOwnProperty.call(t,l)&&(p[l]=t[l]);p.originalType=e,p[u]="string"==typeof e?e:o,i[1]=p;for(var s=2;s<r;s++)i[s]=a[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},65229:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>p,toc:()=>s});var n=a(87462),o=(a(67294),a(3905));const r={id:"concept-6c40b26a-de5e-4ea4-afce-eddc7b0ba64a",slug:"/execute/cloud-based-test-execution/integration-with-other-vendors-for-cloud-execution/app-center-integration"},i="App Center Integration",p={unversionedId:"concept-6c40b26a-de5e-4ea4-afce-eddc7b0ba64a",id:"concept-6c40b26a-de5e-4ea4-afce-eddc7b0ba64a",title:"App Center Integration",description:"Sideload is built for executing Katalon Studio tests on App Center Test. App Center Test only supports running tests using supported frameworks such as Appium tests written in Java with JUnit; hence, Katalon users cannot execute their tests on App Center Test directly.",source:"@site/docs/concept-6c40b26a-de5e-4ea4-afce-eddc7b0ba64a.mdx",sourceDirName:".",slug:"/execute/cloud-based-test-execution/integration-with-other-vendors-for-cloud-execution/app-center-integration",permalink:"/execute/cloud-based-test-execution/integration-with-other-vendors-for-cloud-execution/app-center-integration",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/concept-6c40b26a-de5e-4ea4-afce-eddc7b0ba64a.mdx",tags:[],version:"current",frontMatter:{id:"concept-6c40b26a-de5e-4ea4-afce-eddc7b0ba64a",slug:"/execute/cloud-based-test-execution/integration-with-other-vendors-for-cloud-execution/app-center-integration"},sidebar:"tutorialSidebar",previous:{title:"Set up CircleCI Test Environments for TestOps",permalink:"/execute/cloud-based-test-execution/test-execution-with-testops/set-up-circleci-test-environments-for-testops"},next:{title:"AWS Device Farm Integration",permalink:"/execute/cloud-based-test-execution/integration-with-other-vendors-for-cloud-execution/aws-device-farm-integration"}},l={},s=[{value:"Integrate with App Center",id:"integrate-with-app-center",level:2},{value:"Configure your Katalon Project",id:"configure-your-katalon-project",level:3},{value:"Update sideload",id:"update-sideload",level:3},{value:"Upload KatalonDemoProject",id:"upload-katalondemoproject",level:2}],c={toc:s},u="wrapper";function d(e){let{components:t,...a}=e;return(0,o.kt)(u,(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"app-center-integration"},"App Center Integration"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Sideload")," is built for executing Katalon Studio tests on App Center Test. ",(0,o.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/appcenter/test-cloud/"},"App Center Test")," only supports running tests using supported frameworks such as ",(0,o.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-gb/appcenter/test-cloud/preparing-for-upload/appium"},"Appium tests written in Java with JUnit"),"; hence, Katalon users cannot execute their tests on App Center Test directly."),(0,o.kt)("p",null,"You can execute your Katalon test scripts with devices provided on App Center Test by using ",(0,o.kt)("strong",{parentName:"p"},"sideload")," to package Katalon projects in JUnit format. This tutorial shows you how to integrate with App Center Test using ",(0,o.kt)("strong",{parentName:"p"},"sideload"),". We also provide the ",(0,o.kt)("strong",{parentName:"p"},"KatalonDemoProject")," as a usage example."),(0,o.kt)("h2",{id:"integrate-with-app-center"},"Integrate with App Center"),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},"An active ",(0,o.kt)("a",{parentName:"li",href:"/administer/katalon-studio-enterprise-and-katalon-runtime-engine-license/license-overview"},"Katalon Runtime Engine")," license"),(0,o.kt)("li",{parentName:"ul"},"A ",(0,o.kt)("a",{parentName:"li",href:"/administer/settings/katalon-api-key-in-katalon-testops"},"Katalon API Key")),(0,o.kt)("li",{parentName:"ul"},"Katalon Studio version 7.6.0 onwards"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://maven.apache.org/download.cgi"},"Apache Maven")," version 3.3.9 or later installed"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://nodejs.org/es/blog/release/"},"NodeJS")," version 6.3 or later installed"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/en-us/appcenter/cli/#installation"},"App Center CLI")," installed and logged in"))),(0,o.kt)("p",null,"To run your Katalon projects with App Center Test, you have to configure your Katalon project and make updates in ",(0,o.kt)("strong",{parentName:"p"},"sideload"),"."),(0,o.kt)("h3",{id:"configure-your-katalon-project"},"Configure your Katalon Project"),(0,o.kt)("p",null,"Before executing any test, you need to manually create an ",(0,o.kt)("strong",{parentName:"p"},"Appium Driver instance")," and set it as the currently used instance in Katalon Studio."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Open your project in Katalon Studio. At the beginning of your test script or in the ",(0,o.kt)("code",null,"Before Test Case")," listener, input the following snippet:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"import com.kms.katalon.core.appium.driver.AppiumDriverManager\nimport org.openqa.selenium.remote.DesiredCapabilities\nimport io.appium.java_client.MobileElement\nimport io.appium.java_client.android.AndroidDriver\nimport io.appium.java_client.remote.MobileCapabilityType\n\nString remoteServerUrl = System.getenv('XTC_SERVICE_ENDPOINT_APPIUM') + 'wd/hub'\n\nDesiredCapabilities capabilities = new DesiredCapabilities();\ncapabilities.setCapability(MobileCapabilityType.DEVICE_NAME, 'S10 Plus')\ncapabilities.setCapability(MobileCapabilityType.PLATFORM_NAME, 'android')\ncapabilities.setCapability('appActivity', 'com.hmh.api.ApiDemos')\ncapabilities.setCapability('appPackage', 'com.hmh.api')\ncapabilities.setCapability('appWaitActivity', '*')\ncapabilities.setCapability(MobileCapabilityType.AUTOMATION_NAME, AppiumDriverManager.UIAUTOMATOR2)\ncapabilities.setCapability('autoGrantPermissions', true)\n\nAndroidDriver<MobileElement> driver = new AndroidDriver<MobileElement>(new URL(remoteServerUrl), capabilities)\nAppiumDriverManager.setDriver(driver)\n\n")),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Change the ",(0,o.kt)("a",{parentName:"p",href:"http://appium.io/docs/en/writing-running-appium/caps/"},"desired capabilities")," corresponding to your app."),(0,o.kt)("p",{parentName:"li"},"Since you have created a custom Appium driver, you need to comment out or remove all the ",(0,o.kt)("code",null,"Mobile.startApplication(...)")," or ",(0,o.kt)("code",null,"Mobile.startExistingApplication(...)")," in your current test cases.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Package your Katalon project into a ",(0,o.kt)("strong",{parentName:"p"},".zip")," file."),(0,o.kt)("admonition",{parentName:"li",type:"note"},(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"When running tests on App Center with the ",(0,o.kt)("strong",{parentName:"p"},".zip")," file packaged by macOS default file compress tool, you can sometimes encounter the error: ",(0,o.kt)("em",{parentName:"p"},"No such file or directory"),".")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"To resolve this error, try running this command from the directory where the ",(0,o.kt)("strong",{parentName:"p"},".zip")," file is located: ",(0,o.kt)("code",null,"zip -d ","<","katalon","_","project","_","package","_","file",">"," ","_","_","MACOSX/\\","<"),", then continue with the following steps to update sideload.")))))),(0,o.kt)("h3",{id:"update-sideload"},"Update sideload"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Clone or download ",(0,o.kt)("strong",{parentName:"p"},"sideload")," from our repository: ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/katalon-studio/sideload"},"Katalon Studio sideload"),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Inside sideload, place your Katalon Project .",(0,o.kt)("strong",{parentName:"p"},"zip")," file in this directory: ",(0,o.kt)("code",null,"src/test/resources"),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Configure sideload."),(0,o.kt)("p",{parentName:"li"},"There are two ways to update sideload for you to choose:"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Configure .bat file: ",(0,o.kt)("code",null,"upload.sh/upload.bat")),(0,o.kt)("li",{parentName:"ul"},"Configure .java file: ",(0,o.kt)("code",null,"src/test/java/com/katalon/sideload/SideloadTest.java"))),(0,o.kt)("admonition",{parentName:"li",type:"note"},(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},"If both files contain the configuration, the configuration in the ",(0,o.kt)("strong",{parentName:"li"},".bat")," file will be prioritized."))),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Configure .bat file"),"Upload"),(0,o.kt)("p",{parentName:"li"},"Open the upload.bat file. Change the following variables as your context:"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("code",null,"<app_name>"),": Your App Name on App Center"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("code",null,"<device_id/device_name>"),": Device ID or Device Name on App Center. To find your Device ID or Device Name on App Center, go to ",(0,o.kt)("code",null,"Test > Device sets"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("code",null,"<path_to_app_file>"),": The App to upload to App Center"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("code",null,"<katalon_version>"),': The version of Katalon Studio used to execute. Left blank or set as "latest" to run with the latest version of Katalon Studio.'),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("code",null,"<katalon_project_package_file>"),": Your package file"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("code",null,"<katalon_project_path>"),": Relative path of Katalon project's folder inside the ",(0,o.kt)("code",null,"zip")," package"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("code",null,"<katalon_execute_args>"),": The arguments part of your Katalon run command",(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},'-   The argument <code>browserType</code> must be set as <code>"Chome"</code>\n-   The argument <code>projectPath</code> must be excluded from this parameter\n-   For more arguments, refer to [Command Syntax](/execute/katalon-runtime-engine/command-line-syntax-in-katalon-runtime-engine#)\n')),(0,o.kt)("p",{parentName:"li"},"For example:"))),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},'appcenter test run appium ^\n--app "katalon/Sideload" ^\n--devices "katalon/nexus" ^\n--app-path "apps/APIDemos.apk" ^\n--test-series "master" ^\n--locale "en_US" ^\n--build-dir target/upload ^\n--test-parameter "test_env=KATALON_VERSION=" ^\n--test-parameter "test_env=KATALON_PROJECT_PACKAGE_FILE=KatalonDemoProject.zip" ^\n--test-parameter "test_env=KATALON_PROJECT_PATH=" ^\n--test-parameter "test_env=KATALON_EXECUTE_ARGS=-retry=0 -testSuitePath=""Test Suites/Regression Tests"" -executionProfile=default -browserType=Chrome -apiKey=""12345678-aaaa-bbbb-cccc-91011121314"""\n')),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Configure .java file")),(0,o.kt)("p",{parentName:"li"},"Open ",(0,o.kt)("code",null,"src/test/java/com/katalon/sideload/SideloadTest.java"),", find the ",(0,o.kt)("code",null,"SideloadTest")," section and change the following variables as your context:"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"API","_","KEY"),": Your API key")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"KATALON","_","VERSION"),': The version of Katalon Studio used to execute. Left blank or set as "latest" to run with the latest version of Katalon Studio.')),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"KATALON",(0,o.kt)("em",{parentName:"strong"},"PROJECT"),"PACKAGE","_","FILE"),": Your package file")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"KATALON",(0,o.kt)("em",{parentName:"strong"},"PROJECT"),"PATH"),": Path to the Katalon project inside the package file.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"KATALON",(0,o.kt)("em",{parentName:"strong"},"EXECUTE"),"ARGS"),": The arguments part of your Katalon run command"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},'-   The argument <code>browserType</code> must be set as <code>"Chome"</code>\n-   The argument <code>projectPath</code> must be excluded from this parameter\n-   For more arguments, refer to [Command Syntax](/execute/katalon-runtime-engine/command-line-syntax-in-katalon-runtime-engine#)\n')),(0,o.kt)("p",{parentName:"li"},"For example:"))),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},'public class SideloadTest {\n/**\n * Your Katalon API Key\n */\nprivate static final String API_KEY = "12345678-aaaa-bbbb-cccc-91011121314";\n\n/**\n * Katalon version which will be used to run the test\n */\nprivate static final String KATALON_VERSION = ""; // Leave it blank to always use the latest version\n\n/**\n * The package file under the "src/test/resources" folder\n */\nprivate static final String KATALON_PROJECT_PACKAGE_FILE = "KatalonDemoProject.zip";\n\n/**\n * Path to the katalon project inside the package file.\n * If not specified it will use the same name with the package file.\n * (In this case, it is: KatalonDemoProject)\n */\nprivate static final String KATALON_PROJECT_PATH = "";\n\n/**\n * Katalon arguments\n * @apiNote Remember to always set "browserType" to "Chrome". This will prevent Katalon from inject inappropriate configurations in execution.\n * @apiNote Besides, you do not need to include project path in the argument list.\n */\nprivate static final String KATALON_EXECUTE_ARGS = String.format("-retry=0 -testSuitePath=\\"Test Suites/Regression Tests\\" -executionProfile=default -browserType=Chrome -apiKey=\\"%s\\"", API_KEY);\n\n'))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"To pack your sideload project, execute the file ",(0,o.kt)("code",null,"package.bat"),"/",(0,o.kt)("code",null,"package.sh"),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"To upload and run your sideload project on the App Center, execute the file ",(0,o.kt)("code",null,"upload.sh"),"/",(0,o.kt)("code",null,"upload.bat"),"."))),(0,o.kt)("h2",{id:"upload-katalondemoproject"},"Upload KatalonDemoProject"),(0,o.kt)("p",null,"This section provides you a usage example on how to upload ",(0,o.kt)("strong",{parentName:"p"},"KatalonDemoProject")," packaged in JUnit by ",(0,o.kt)("strong",{parentName:"p"},"sideload")," and start a test run in App Center Test."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Clone or download ",(0,o.kt)("strong",{parentName:"p"},"sideload")," from our repository: ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/katalon-studio/sideload"},"Katalon Studio sideload"),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Open the workspace of the usage example project by following the path: ",(0,o.kt)("code",null,"src/test/resources/KatalonDemoProject.zip"),"."),(0,o.kt)("p",{parentName:"li"},"On App Center Test, create and start a new test run. See Microsoft documentation: ",(0,o.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/appcenter/test-cloud/starting-a-test-run#new-test-run"},"Starting a test run"),"."),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Device: Android 7.1.1 or prior. Ex: Motorola Nexus 6"),(0,o.kt)("li",{parentName:"ul"},"Test framework: Appium"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"To pack your sideload project, execute the file ",(0,o.kt)("code",null,"package.bat"),"/",(0,o.kt)("code",null,"package.sh"),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Upload sideload:"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Before uploading, you should configure in the file ",(0,o.kt)("code",null,"upload.sh"),"/",(0,o.kt)("code",null,"upload.bat"),"."),(0,o.kt)("li",{parentName:"ul"},"To upload and run your sideload project on the App Center, execute the file ",(0,o.kt)("code",null,"upload.sh"),"/",(0,o.kt)("code",null,"upload.bat"),".\nYou can view test reports on App Center Test. See Microsoft documentation: ",(0,o.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/en-us/appcenter/test-cloud/test-reports"},"Test reports"),".")))))}d.isMDXComponent=!0}}]);