"use strict";(self.webpackChunkplayground=self.webpackChunkplayground||[]).push([[10003],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>k});var a=n(67294);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n,a,s={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var i=a.createContext({}),u=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=u(e.components);return a.createElement(i.Provider,{value:t},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,s=e.mdxType,r=e.originalType,i=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=u(n),m=s,k=p["".concat(i,".").concat(m)]||p[m]||c[m]||r;return n?a.createElement(k,o(o({ref:t},d),{},{components:n})):a.createElement(k,o({ref:t},d))}));function k(e,t){var n=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var r=n.length,o=new Array(r);o[0]=m;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l[p]="string"==typeof e?e:s,o[1]=l;for(var u=2;u<r;u++)o[u]=n[u];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},2137:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>o,default:()=>c,frontMatter:()=>r,metadata:()=>l,toc:()=>u});var a=n(87462),s=(n(67294),n(3905));const r={author:"Yen Nguyen <yen.nguyen@katalon.com>",id:"concept-7b89f77b-7b42-423a-ab0f-91dab68af649",slug:"/create-tests/create-test-cases/test-fixtures-and-test-listeners-test-hooks-in-katalon-studio"},o="Test Fixtures and Test Listeners (Test Hooks) in Katalon Studio",l={unversionedId:"concept-7b89f77b-7b42-423a-ab0f-91dab68af649",id:"concept-7b89f77b-7b42-423a-ab0f-91dab68af649",title:"Test Fixtures and Test Listeners \\(Test Hooks\\) in Katalon Studio",description:"To extend your current testing flow, the test fixtures \\(@setUp/@tearDown methods\\) and test listeners might be useful for prerequisite and clean-up configurations for all the tests.",source:"@site/docs/concept-7b89f77b-7b42-423a-ab0f-91dab68af649.mdx",sourceDirName:".",slug:"/create-tests/create-test-cases/test-fixtures-and-test-listeners-test-hooks-in-katalon-studio",permalink:"/create-tests/create-test-cases/test-fixtures-and-test-listeners-test-hooks-in-katalon-studio",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/concept-7b89f77b-7b42-423a-ab0f-91dab68af649.mdx",tags:[],version:"current",frontMatter:{author:"Yen Nguyen <yen.nguyen@katalon.com>",id:"concept-7b89f77b-7b42-423a-ab0f-91dab68af649",slug:"/create-tests/create-test-cases/test-fixtures-and-test-listeners-test-hooks-in-katalon-studio"},sidebar:"tutorialSidebar",previous:{title:"Call test case in Katalon Studio",permalink:"/create-tests/create-test-cases/call-test-case-in-katalon-studio"},next:{title:"Working with sensitive text in Katalon Studio",permalink:"/create-tests/create-test-cases/working-with-sensitive-text-in-katalon-studio"}},i={},u=[{value:"setUp() and tearDown() for test suite and test case",id:"setup-and-teardown-for-test-suite-and-test-case",level:2},{value:"Activate setUp and tearDown in a test suite",id:"activate-setup-and-teardown-in-a-test-suite",level:3},{value:"Add setUp and tearDown in manual view of a test case",id:"add-setup-and-teardown-in-manual-view-of-a-test-case",level:3},{value:"Add setUp and tearDown in the script view of a test case",id:"add-setup-and-teardown-in-the-script-view-of-a-test-case",level:3},{value:"Test Listeners (Test Hooks)",id:"test-listeners-test-hooks",level:2},{value:"Create new Test Listeners",id:"create-new-test-listeners",level:3},{value:"Example: Using test listeners",id:"example-using-test-listeners",level:4}],d={toc:u},p="wrapper";function c(e){let{components:t,...n}=e;return(0,s.kt)(p,(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"test-fixtures-and-test-listeners-test-hooks-in-katalon-studio"},"Test Fixtures and Test Listeners ","(","Test Hooks",")"," in Katalon Studio"),(0,s.kt)("p",null,"To extend your current testing flow, the test fixtures ","(","@setUp/@tearDown methods",")"," and test listeners might be useful for prerequisite and clean-up configurations for all the tests."),(0,s.kt)("p",null,"With the prerequisite configuration, the test engine must take specific actions before starting test execution. For clean-up configuration, the test engine must carry out some actions after the test execution finishes."),(0,s.kt)("p",null,"The infographic below visualizes how Katalon Studio executes your automated test projects with the test fixtures and test listeners methods."),(0,s.kt)("img",{src:"/doc_images/Documents/Create_tests/Create_Test_Cases/Test_Fixtures_And_Test_Listeners/Images/execution-flow.png",width:500,alt:"Execution flow"}),(0,s.kt)("admonition",{type:"note"},(0,s.kt)("ul",{parentName:"admonition"},(0,s.kt)("li",{parentName:"ul"},"Test listeners are always triggered first if you define both test listeners and activate setUp/tearDown methods simultaneously."))),(0,s.kt)("p",null,"This document guides you through how to configure the setUp/tearDown methods and the test listeners in Katalon Studio."),(0,s.kt)("h2",{id:"setup-and-teardown-for-test-suite-and-test-case"},"setUp","(",")"," and tearDown","(",")"," for test suite and test case"),(0,s.kt)("p",null,"In Katalon Studio, you can specify prerequisite and clean-up configurations for your test cases using the @setUp and @tearDown methods."),(0,s.kt)("p",null,"Here are some common usages of the @setUp and @tearDown methods:"),(0,s.kt)("table",null,(0,s.kt)("tr",null,(0,s.kt)("th",null,"Method"),(0,s.kt)("th",null,"Common usage")),(0,s.kt)("tbody",null,(0,s.kt)("tr",null,(0,s.kt)("td",null,"@setUp"),(0,s.kt)("td",null,(0,s.kt)("ul",null,(0,s.kt)("li",null,"Prepare a testing environment, such as:",(0,s.kt)("ul",null,(0,s.kt)("li",null,"Starting new browser with clean cookies."),(0,s.kt)("li",null,"Creating temporary and proxy databases, directories."),(0,s.kt)("li",null,"Starting a server process."))),(0,s.kt)("li",null,"Call required test cases for the executed test suite.")))),(0,s.kt)("tr",null,(0,s.kt)("td",null,"@tearDown"),(0,s.kt)("td",null,(0,s.kt)("ul",null,(0,s.kt)("li",null,"Clean-up testing environment, such as:",(0,s.kt)("ul",null,(0,s.kt)("li",null,"Closing connections to browsers."),(0,s.kt)("li",null,"Disconnecting from databases or server."))),(0,s.kt)("li",null,"Call tearDown test cases for the executed test suite.")))))),(0,s.kt)("p",null,"The table below describes the trigger conditions of these methods:"),(0,s.kt)("table",null,(0,s.kt)("tr",null,(0,s.kt)("th",null,"Method"),(0,s.kt)("th",null,"Description"),(0,s.kt)("th",null,"Trigger Condition")),(0,s.kt)("tbody",null,(0,s.kt)("tr",null,(0,s.kt)("td",null,"@setUp"),(0,s.kt)("td",null,"Setup test suite environment."),(0,s.kt)("td",null,"Before executed test suites.")),(0,s.kt)("tr",null,(0,s.kt)("td",null,"@setUpTestCase"),(0,s.kt)("td",null,"Run before each test case starts."),(0,s.kt)("td",null,"Before executed test cases.")),(0,s.kt)("tr",null,(0,s.kt)("td",null,"@tearDown"),(0,s.kt)("td",null,"Clean test suites environment."),(0,s.kt)("td",null,"After executed test suites.")),(0,s.kt)("tr",null,(0,s.kt)("td",null,"@tearDownTestCase"),(0,s.kt)("td",null,"Run after each test case ends."),(0,s.kt)("td",null,"After executed test cases.")))),(0,s.kt)("h3",{id:"activate-setup-and-teardown-in-a-test-suite"},"Activate setUp and tearDown in a test suite"),(0,s.kt)("p",null,"In the test suite editor, switch to the ",(0,s.kt)("strong",{parentName:"p"},"Script")," tab to view the setUp and tearDown methods template."),(0,s.kt)("img",{src:"/doc_images/Documents/Create_tests/Create_Test_Cases/Test_Fixtures_And_Test_Listeners/Images/setup-teardown-template.png",alt:"SetUp tearDown template"}),(0,s.kt)("p",null,"By default, the setUp and tearDown methods are not triggered even if they match with provided trigger condition as shown in the below code sample:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"/**\n * Setup test suite environment.\n */\n@SetUp(skipped = true) // Please change skipped to be false to activate this method.\ndef setUp() {\n    // Put your code here.\n}\n")),(0,s.kt)("p",null,"To activate the\xa0",(0,s.kt)("strong",{parentName:"p"},"@setUp"),"\xa0and\xa0",(0,s.kt)("strong",{parentName:"p"},"@tearDown"),"\xa0methods, you need to set the\xa0",(0,s.kt)("strong",{parentName:"p"},"skipped"),"\xa0value to\xa0",(0,s.kt)("strong",{parentName:"p"},"false"),". For example:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"@SetUp(skipped = false)\n")),(0,s.kt)("admonition",{type:"note"},(0,s.kt)("ul",{parentName:"admonition"},(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("p",{parentName:"li"},"Executing with the setUp/tearDown methods still generates execution logs as usual.")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("p",{parentName:"li"},"You cannot see setUp and tearDown executed reports from generated Test Suite report. You can only see\xa0",(0,s.kt)("strong",{parentName:"p"},"setUpTestCase"),"\xa0and\xa0",(0,s.kt)("strong",{parentName:"p"},"tearDownTestCase"),"\xa0in generated Test Suite report."),(0,s.kt)("img",{src:"/doc_images/Documents/Create_tests/Create_Test_Cases/Test_Fixtures_And_Test_Listeners/Images/Setup-log-viewer.png",alt:"ITCCSetup log viewer"})))),(0,s.kt)("h3",{id:"add-setup-and-teardown-in-manual-view-of-a-test-case"},"Add setUp and tearDown in manual view of a test case"),(0,s.kt)("p",null,"In the manual view of a test case, you can add the setUp and tearDown method by following these steps:"),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Click on the drop-down button of the\xa0",(0,s.kt)("strong",{parentName:"p"},"Add"),"\xa0icon and choose\xa0",(0,s.kt)("strong",{parentName:"p"},"Method"),". To learn more about the method statement, see\xa0",(0,s.kt)("a",{parentName:"p",href:"/create-tests/create-test-cases/statements/define-method"},"Define Method"),"."),(0,s.kt)("p",{parentName:"li"},"The\xa0",(0,s.kt)("strong",{parentName:"p"},"Method builder"),"\xa0dialog appears.")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Enter your method's name and its return value, then choose one of the options below:"),(0,s.kt)("img",{src:"/doc_images/Documents/Create_tests/Create_Test_Cases/Test_Fixtures_And_Test_Listeners/Images/method-builder.png",width:600,alt:"Method builder dialog"}),(0,s.kt)("table",null,(0,s.kt)("tr",null,(0,s.kt)("th",null,"Method"),(0,s.kt)("th",null,"Description")),(0,s.kt)("tbody",null,(0,s.kt)("tr",null,(0,s.kt)("td",null,"Set Up"),(0,s.kt)("td",null,"This method is always called first, before executing the main test steps.")),(0,s.kt)("tr",null,(0,s.kt)("td",null,"Tear Down If Failed"),(0,s.kt)("td",null,"This method is called after executing all steps of the test case, if one of those steps is marked as\xa0",(0,s.kt)("strong",null,"Failed"),".")),(0,s.kt)("tr",null,(0,s.kt)("td",null,"Tear Down If Passed"),(0,s.kt)("td",null,"This method is called after executing all steps of the test case, if all of those steps are marked as\xa0",(0,s.kt)("strong",null,"Pass"),".")),(0,s.kt)("tr",null,(0,s.kt)("td",null,"Tear Down If Error"),(0,s.kt)("td",null,"This method is called after executing all the test case steps, if one of those steps is marked as\xa0",(0,s.kt)("strong",null,"Error"),".")),(0,s.kt)("tr",null,(0,s.kt)("td",null,"Tear Down"),(0,s.kt)("td",null,"This method is called at the end of an execution.")),"    "))),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"To add a test step under a method, choose the line of that method, then click\xa0",(0,s.kt)("strong",{parentName:"p"},"Add"),"."),(0,s.kt)("p",{parentName:"li"},"A new keyword is added under that method."),(0,s.kt)("img",{src:"/doc_images/Documents/Create_tests/Create_Test_Cases/Test_Fixtures_And_Test_Listeners/Images/setup-teardown-manual.png",alt:"tearDown step added to a test case"}),(0,s.kt)("admonition",{parentName:"li",type:"note"},(0,s.kt)("ul",{parentName:"admonition"},(0,s.kt)("li",{parentName:"ul"},"The setUp/tearDown methods might be marked as\xa0",(0,s.kt)("strong",{parentName:"li"},"Error"),"\xa0if any issue occurs during their execution. The possible exception is when the\xa0",(0,s.kt)("strong",{parentName:"li"},"AssertionError"),"\xa0class is used, or if the methods are skipped."))))),(0,s.kt)("h3",{id:"add-setup-and-teardown-in-the-script-view-of-a-test-case"},"Add setUp and tearDown in the script view of a test case"),(0,s.kt)("p",null,"In the script view of a test case, you can declare a method as setUp/tearDown methods using the matching annotation above them. For example:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"@com.kms.katalon.core.annotation.SetUp\ndef setup(def param1, def param2) {\n}\n@com.kms.katalon.core.annotation.TearDownIfFailed\ndef teardownIfFailed(def param1, def param2) {\n}\n@com.kms.katalon.core.annotation.TearDownIfPassed\ndef teardownIfPassed(def param1, def param2) {\n}\n@com.kms.katalon.core.annotation.TearDownIfError\ndef teardownIfError(def param1, def para2) {\n}\n@com.kms.katalon.core.annotation.TearDown\ndef teardown(def param1, def param2) {\n}\n\n")),(0,s.kt)("h2",{id:"test-listeners-test-hooks"},"Test Listeners ","(","Test Hooks",")"),(0,s.kt)("p",null,'Test listeners are test steps created to "listen" to the event defined in the script and behave accordingly. In this section, you will learn how to create a test listener.'),(0,s.kt)("h3",{id:"create-new-test-listeners"},"Create new Test Listeners"),(0,s.kt)("p",null,"Test listeners are test artifacts. You can perform all basic operations such as create, copy/cut, rename, or delete with test listeners. To create a new test listener, do as follows:"),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"In the ",(0,s.kt)("strong",{parentName:"p"},"Tests Explorer")," panel, right-click on ",(0,s.kt)("strong",{parentName:"p"},"Test Listeners"),". Select ",(0,s.kt)("strong",{parentName:"p"},"New")," ",">"," ",(0,s.kt)("strong",{parentName:"p"},"New Test Listener"),"."),(0,s.kt)("img",{src:"/doc_images/Global_reuse/Images_warehouse/Katalon_Studio/Tests_Explorer/KS-8.2.5-create-test-listener.png",width:500,alt:"Create a new test listener"})),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"The ",(0,s.kt)("strong",{parentName:"p"},"New Test Listener")," dialog appears with four options as below:"),(0,s.kt)("img",{src:"/doc_images/Documents/Create_tests/Create_Test_Cases/Test_Fixtures_And_Test_Listeners/Images/new-test-listener-dialog.png",width:500,alt:"New test listeners dialog"}),(0,s.kt)("table",null,(0,s.kt)("tr",null,(0,s.kt)("th",null,"Option"),(0,s.kt)("th",null,"Description")),(0,s.kt)("tbody",null,(0,s.kt)("tr",null,(0,s.kt)("td",null,"Generate sample Before Test Case method"),(0,s.kt)("td",null,"Create a sample test listener executed before every test case starts.")),(0,s.kt)("tr",null,(0,s.kt)("td",null,"Generate sample After Test Case method"),(0,s.kt)("td",null,"Create a sample test listener executed after every test case ends.")),(0,s.kt)("tr",null,(0,s.kt)("td",null,"Generate sample Before Test Suite method"),(0,s.kt)("td",null,"Create a sample test listener executed before every test suite starts.")),(0,s.kt)("tr",null,(0,s.kt)("td",null,"Generate sample After Test Suite method"),(0,s.kt)("td",null,"Create a sample test listener executed after every test suite ends")),"    ")),(0,s.kt)("p",{parentName:"li"},"You can select one or multiple options, then click\xa0",(0,s.kt)("strong",{parentName:"p"},"OK"),"."),(0,s.kt)("p",{parentName:"li"},"Once finished, Katalon Studio generates a sample template accordingly. The template includes necessary annotations, libraries, and supported functions."),(0,s.kt)("admonition",{parentName:"li",type:"note"},(0,s.kt)("ul",{parentName:"admonition"},(0,s.kt)("li",{parentName:"ul"},"You can create multiple test listeners."),(0,s.kt)("li",{parentName:"ul"},"If you have more than one test listener class, the classes themselves are instantiated in Katalon storage in alphabetical order. Only then are the individual listener methods executed top-down."),(0,s.kt)("li",{parentName:"ul"},"The execution status of any steps within test listeners does not affect the overall status of the executed test case. For example, if you have a FAILED output in any of your test listeners, but the final status of the executed test case is PASSED, then the test case status is PASSED."))),(0,s.kt)("p",{parentName:"li"},"You can view the test listener template here:"),(0,s.kt)("pre",{parentName:"li"},(0,s.kt)("code",{parentName:"pre"},"import internal.GlobalVariable as GlobalVariable\n\nimport com.kms.katalon.core.annotation.BeforeTestCase\nimport com.kms.katalon.core.annotation.BeforeTestSuite\nimport com.kms.katalon.core.annotation.AfterTestCase\nimport com.kms.katalon.core.annotation.AfterTestSuite\nimport com.kms.katalon.core.context.TestCaseContext\nimport com.kms.katalon.core.context.TestSuiteContext\n\nclass NewTestListener {\n    /**\n     * Executes before every test case starts.\n     * @param testCaseContext related information of the executed test case.\n     */\n    @BeforeTestCase\n    def sampleBeforeTestCase(TestCaseContext testCaseContext) {\n        println testCaseContext.getTestCaseId()\n        println testCaseContext.getTestCaseVariables()\n    }\n\n    /**\n     * Executes after every test case ends.\n     * @param testCaseContext related information of the executed test case.\n     */\n    @AfterTestCase\n    def sampleAfterTestCase(TestCaseContext testCaseContext) {\n        println testCaseContext.getTestCaseId()\n        println testCaseContext.getTestCaseStatus()\n    }\n\n    /**\n     * Executes before every test suite starts.\n     * @param testSuiteContext: related information of the executed test suite.\n     */\n    @BeforeTestSuite\n    def sampleBeforeTestSuite(TestSuiteContext testSuiteContext) {\n        println testSuiteContext.getTestSuiteId()\n    }\n    /**\n     * Executes after every test suite ends.\n     * @param testSuiteContext: related information of the executed test suite.\n     */\n    @AfterTestSuite\n    def sampleAfterTestSuite(TestSuiteContext testSuiteContext) {\n        println testSuiteContext.getTestSuiteId()\n    }\n}\n")))),(0,s.kt)("h4",{id:"example-using-test-listeners"},"Example: Using test listeners"),(0,s.kt)("p",null,"In this example, we define multiple environments as different global variables by using test listeners. For more information, see ",(0,s.kt)("a",{parentName:"p",href:"/create-tests/data-driven-testing/global-variables"},"Global variables"),"."),(0,s.kt)("p",null,"Before you execute your test case, change the environment variable to your preferred environment by following the script below:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"import internal.GlobalVariable as GlobalVariable\n\nimport com.kms.katalon.core.annotation.BeforeTestCase\nimport com.kms.katalon.core.annotation.BeforeTestSuite\nimport com.kms.katalon.core.annotation.AfterTestCase\nimport com.kms.katalon.core.annotation.AfterTestSuite\nimport com.kms.katalon.core.context.TestCaseContext\nimport com.kms.katalon.core.context.TestSuiteContext\n\n/**\n * Executes before every test case starts.\n * @param testCaseContext related information of the executed test case.\n */\n\n@BeforeTestCase\ndef sampleBeforeTestCase(TestCaseContext testCaseContext) {\n    if (GlobalVariable.gl_Environment == 'Local') {\n        GlobalVariable.gl_Url = 'localhost'\n    } else if (GlobalVariable.gl_Environment == 'Staging') {\n        GlobalVariable.gl_Url = 'staging'\n    }\n}\n")),(0,s.kt)("admonition",{type:"note"},(0,s.kt)("ul",{parentName:"admonition"},(0,s.kt)("li",{parentName:"ul"},"To learn more about test listeners, refer to chapter 2 of our Katalon Academy course:\xa0",(0,s.kt)("a",{parentName:"li",href:"https://academy.katalon.com/courses/test-execution-management/?utm_source=kat_docs&utm_medium=test_listener"},"Test Listener"),"."))))}c.isMDXComponent=!0}}]);