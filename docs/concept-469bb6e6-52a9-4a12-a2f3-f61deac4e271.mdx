---
id: concept-469bb6e6-52a9-4a12-a2f3-f61deac4e271
slug: /execute/cloud-based-test-execution/test-execution-with-testops/local-test-environments/create-a-local-test-environment-with-an-agent
---

# Create a Local Test Environment with an Agent

An Agent manages a local server for executing the scheduled Test Runs in a Local Test Environment.

Katalon TestOps supports compatible Agents for different executing environments.

Once you install the Agent in your local test machine, you have created a Local Test Environment for Test Runs execution.


:::note

-   You can share the Agents among Users and Projects within a Team.


:::

## Set up an Agent

### Requirements

-   You have a Katalon account.


### Download an Agent from Katalon TestOps

To install an Agent, follow these steps:

1.  Sign in to [Katalon TestOps](https://testops.katalon.io/login).

2.  Go to your **Project** &gt; **Configurations** &gt; **Agent Setup** &gt; **Local Environment**.

    The **Agent Setup** page appears as below.<img src="/doc_images/Documents/Execute/Cloud_based_test_execution/Test_execution_with_TestOps/Local-Test-Environments/agents/image/to-setup-agent.png" width={850} />

    
    :::note

    -   You use the commands in the **Generate configuration** and **Start an agent** sections when setting up an Agent in your local machine.

    :::

3.  In **Select OS**, choose your Operating System \(Windows, macOS, etc.\), then click **Download Agent**.

    You have downloaded the Agent file \(.zip file\) to your computer.

4.  In the **Agent Name** section, create a name for the Agent \(e.g., **My Agent**\).

5.  Leave the **Agent Setup** page open while following the instructions to set up the Agent in your local machine.


### Set up an Agent in a Windows local machine

Follow these steps:

1.  Unzip the Agent file you have downloaded.

    <img src="/doc_images/Documents/Execute/Cloud_based_test_execution/Test_execution_with_TestOps/Local-Test-Environments/agents/image/kt_unzip_agent_setup.png" />

2.  Open a new CMD window.

    <img src="/doc_images/Documents/Execute/Cloud_based_test_execution/Test_execution_with_TestOps/Local-Test-Environments/agents/image/kt_agent_cmd.png" width={700} />

3.  Copy the command in the **Generate configuration** section on the **Agent Setup** page, and paste it into the CMD window, then click *Enter* on the keyboard to run.

    <img src="/doc_images/Documents/Execute/Cloud_based_test_execution/Test_execution_with_TestOps/Local-Test-Environments/agents/image/kt_paste_gen_config_cmd.png" width={700} />

4.  Copy the command in the **Start an agent** section, and paste it into the CMD window, then click *Enter* to run.

    <img src="/doc_images/Documents/Execute/Cloud_based_test_execution/Test_execution_with_TestOps/Local-Test-Environments/agents/image/kt_paste_start_agent.png" width={700} />

5.  Wait for a minute.

6.  Go to the **Agent Setup** page and click on **Test Environments** \(in the **Schedule a test run** section\) to see the added Local Test Environment.


### Set up an Agent in a macOS local machine

To set up an Agent in a macOS local machine, do as follows:

1.  Unzip the Agent file you have downloaded.

2.  Right click on the Agent file and select **New Terminal at Folder**.

    <img src="/doc_images/Documents/Execute/Cloud_based_test_execution/Test_execution_with_TestOps/Local-Test-Environments/agents/image/open-katalon-agent-for-macos.png" width={700} />

3.  Copy the command in the **Generate configuration** section on the **Agent Setup** page, and paste it into the Terminal, then click *Enter* on the keyboard to run.

    
    :::note

    -   Make sure you have enabled Terminal for Developer Tools in the Security & Privacy settings of your macOS \(as shown below\).<img src="/doc_images/Documents/Execute/Cloud_based_test_execution/Test_execution_with_TestOps/Local-Test-Environments/agents/image/security-terminal.png" width={500} />

    :::

    <img src="/doc_images/Documents/Execute/Cloud_based_test_execution/Test_execution_with_TestOps/Local-Test-Environments/agents/image/terminal-start.png" width={500} />

4.  Copy the command in the **Start an agent** section, and paste it into the Terminal, then click *Enter* to run. Wait for a minute.

    <img src="/doc_images/Documents/Execute/Cloud_based_test_execution/Test_execution_with_TestOps/Local-Test-Environments/agents/image/terminal-agent.png" width={700} />

5.  Go to the **Agent Setup** page and click on **Test Environments** \(in the **Schedule a test run** section\).


### Manage the Agent status

Go to **Configurations** &gt; **Test Environments** to check the Agent status.

<img src="/doc_images/Documents/Execute/Cloud_based_test_execution/Test_execution_with_TestOps/Local-Test-Environments/agents/image/to-manage-agent.png" width={850} />

You can delete an Agent by clicking on the *Trash bin* icon. The **Delete Agent** box pops up.

<img src="/doc_images/Documents/Execute/Cloud_based_test_execution/Test_execution_with_TestOps/Local-Test-Environments/agents/image/to-delete-agent.png" width={850} />

Click **Delete** to confirm your action.


:::note

-   You cannot undo this action.


:::

## Agent Authentication

Agents use <code>serverurl</code> and <code>apikey</code> in *agentconfig* to:

-   activate Katalon Runtime Engine.

-   send test results to Katalon TestOps.


You can see the <code>serverurl</code> and <code>apikey</code> in the **Generate configuration** section on the **Agent Setup** page.

<img src="/doc_images/Documents/Execute/Cloud_based_test_execution/Test_execution_with_TestOps/Local-Test-Environments/agents/image/to-setup-agent_copy_2.png" width={850} />

## Configure Proxy for Agents

You can set up Proxy for the Agent in the *agentconfig* file, using the <code>proxy</code> option. For example, <code>proxy=http://localhost:8080</code>.

Next steps:

-   [Upload Test Scripts from a Git Repository](/organize/upload-test-scripts-from-a-git-repository/upload-test-scripts-from-the-git-repository-to-testops).

-   [Schedule Test Runs](/execute/schedule-test-execution/schedule-test-runs-in-testops).